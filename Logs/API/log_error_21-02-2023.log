13:26:09 | ERROR | Error:
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 43, in call_next
    message = await recv_stream.receive()
                    â”‚           â”” <function MemoryObjectReceiveStream.receive at 0x7efeb443d900>
                    â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 94, in receive
    return self.receive_nowait()
           â”‚    â”” <function MemoryObjectReceiveStream.receive_nowait at 0x7efeb443d870>
           â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 87, in receive_nowait
    raise EndOfStream
          â”” <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 3
               â”‚     â”” 15
               â”” <function _main at 0x7efeb558a440>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 3
           â”‚    â”” <function BaseProcess._bootstrap at 0x7efeb57596c0>
           â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7efeb5758d30>
    â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7efeb559a1d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
    â”‚    â”” <function subprocess_started at 0x7efeb4bbd3f0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7efeb559a230>>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7efeb4bbc700>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7efeb559a230>
           â”‚       â”” <function run at 0x7efeb55916c0>
           â”” <module 'asyncio' from '/usr/local/lib/python3.10/asyncio/__init__.py'>
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7efeb3bee2d0>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x7efeb4fc2d40>
           â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
    self.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7efeb4fc2cb0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7efeb4fc4820>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1899, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7efeb55281f0>
    â”” <Handle <TaskStepMethWrapper object at 0x7efeb3704e80>()>
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x7efeb3704e80>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x7efeb3704e80>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x7efeb3704e80>()>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efeb3c49630>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7efeb3705060>>
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7efeb3705060>>
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7efeb4bee350>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efeb3c49630>
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7efeb3705060>>
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7efeb3705060>>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7efeb3705060>>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7efeb3705060>>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efeb3f778b0>
          â”” <fastapi.applications.FastAPI object at 0x7efeb4bee350>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7efeb3c3b9a0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7efeb3705060>>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
          â”‚    â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efeb3f77910>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efeb3f778b0>
> File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 72, in __call__
    response = await self.dispatch_func(request, call_next)
                     â”‚    â”‚             â”‚        â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efeb3a57b50>
                     â”‚    â”‚             â”” <starlette.requests.Request object at 0x7efeb368fb80>
                     â”‚    â”” <function log_middle at 0x7efeb3c15bd0>
                     â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efeb3f77910>

  File "/app/NBDapp/api_views.py", line 47, in log_middle
    response = await call_next(request)
                     â”‚         â”” <starlette.requests.Request object at 0x7efeb368fb80>
                     â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efeb3a57b50>

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
          â”” ValueError("invalid literal for int() with base 10: '23.02.1'")
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
          â”‚    â”‚   â”‚      â”‚       â”‚        â”‚           â”” <function MemoryObjectSendStream.send at 0x7efeb443e050>
          â”‚    â”‚   â”‚      â”‚       â”‚        â”” MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          â”‚    â”‚   â”‚      â”‚       â”” <property object at 0x7efeb42aabb0>
          â”‚    â”‚   â”‚      â”” <starlette.requests.Request object at 0x7efeb368fb80>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efeb3f75780>
          â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efeb3f77910>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7efeb36fb010>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7efeb3a57be0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
          â”‚    â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efeb3f75fc0>
          â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efeb3f75780>
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7efeb36fb010>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7efeb3a57be0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
          â”‚    â”” <fastapi.routing.APIRouter object at 0x7efeb4bedc60>
          â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efeb3f75fc0>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7efeb36fb010>
          â”‚     â”‚      â”‚      â”” <function set_body.<locals>.receive at 0x7efeb3a57be0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
          â”‚     â”” <function Route.handle at 0x7efeb40fe680>
          â”” <fastapi.routing.APIRoute object at 0x7efeb3c48220>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7efeb36fb010>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7efeb3a57be0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.96.2', 8888), ...
          â”‚    â”” <function request_response.<locals>.app at 0x7efeb3c38f70>
          â”” <fastapi.routing.APIRoute object at 0x7efeb3c48220>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
                     â”‚    â”” <starlette.requests.Request object at 0x7efeb37048e0>
                     â”” <function get_request_handler.<locals>.app at 0x7efeb3c38ee0>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7efeb40fd480>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'send_message': 'ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, Ğ­Ñ€Ğ¸Ğº!\nĞ­Ñ‚Ñƒ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºÑƒ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´ĞµĞ²ÑƒÑˆĞºĞ¸ ğŸ˜Š\nĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ» Ğ´Ğ»Ñ Ğ²Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ±Ğ¾Ñ€ĞºÑƒ Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ² Ğ½Ğ° 23 Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ, Ğ½...
                 â”‚         â”” <function global_statistic at 0x7efeb3c38e50>
                 â”” <fastapi.dependencies.models.Dependant object at 0x7efeb3c482e0>

  File "/app/NBDapp/api_views.py", line 575, in global_statistic
    await Global_Send.create(
          â”‚           â”” <classmethod(<function Model.create at 0x7efeb3f411b0>)>
          â”” <class 'DataBase.Models.Global_Send'>

  File "/usr/local/lib/python3.10/site-packages/tortoise/models.py", line 1132, in create
    instance = cls(**kwargs)
               â”‚     â”” {'send_name': 'ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, Ğ­Ñ€Ğ¸Ğº!\nĞ­Ñ‚Ñƒ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºÑƒ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´ĞµĞ²ÑƒÑˆĞºĞ¸ ğŸ˜Š\nĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ» Ğ´Ğ»Ñ Ğ²Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ±Ğ¾Ñ€ĞºÑƒ Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ² Ğ½Ğ° 23 Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ, Ğ½Ğ¾ Ğ¿...
               â”” <class 'DataBase.Models.Global_Send'>
  File "/usr/local/lib/python3.10/site-packages/tortoise/models.py", line 671, in __init__
    for key in meta.fields.difference(self._set_kwargs(kwargs)):
               â”‚    â”‚                 â”‚    â”‚           â”” {'send_name': 'ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, Ğ­Ñ€Ğ¸Ğº!\nĞ­Ñ‚Ñƒ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºÑƒ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´ĞµĞ²ÑƒÑˆĞºĞ¸ ğŸ˜Š\nĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ» Ğ´Ğ»Ñ Ğ²Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ±Ğ¾Ñ€ĞºÑƒ Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ² Ğ½Ğ° 23 Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ, Ğ½Ğ¾ Ğ¿...
               â”‚    â”‚                 â”‚    â”” <function Model._set_kwargs at 0x7efeb3f403a0>
               â”‚    â”‚                 â”” <unprintable Global_Send object>
               â”‚    â”” <member 'fields' of 'MetaInfo' objects>
               â”” <tortoise.models.MetaInfo object at 0x7efeb3f51bc0>
  File "/usr/local/lib/python3.10/site-packages/tortoise/models.py", line 698, in _set_kwargs
    setattr(self, key, field_object.to_python_value(value))
            â”‚     â”‚    â”‚            â”‚               â”” '23.02.1'
            â”‚     â”‚    â”‚            â”” <function Field.to_python_value at 0x7efeb4077130>
            â”‚     â”‚    â”” <tortoise.fields.data.IntField object at 0x7efeb3f3f8e0>
            â”‚     â”” 'button_id'
            â”” <unprintable Global_Send object>
  File "/usr/local/lib/python3.10/site-packages/tortoise/fields/base.py", line 224, in to_python_value
    value = self.field_type(value)  # pylint: disable=E1102
            â”‚    â”‚          â”” '23.02.1'
            â”‚    â”” <class 'int'>
            â”” <tortoise.fields.data.IntField object at 0x7efeb3f3f8e0>

ValueError: invalid literal for int() with base 10: '23.02.1'
14:18:37 | ERROR | Error:
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 94, in receive
    return self.receive_nowait()
           â”‚    â”” <function MemoryObjectReceiveStream.receive_nowait at 0x7f35c4a91870>
           â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 89, in receive_nowait
    raise WouldBlock
          â”” <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 43, in call_next
    message = await recv_stream.receive()
                    â”‚           â”” <function MemoryObjectReceiveStream.receive at 0x7f35c4a91900>
                    â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 114, in receive
    raise EndOfStream
          â”” <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 3
               â”‚     â”” 15
               â”” <function _main at 0x7f35c5be2440>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 3
           â”‚    â”” <function BaseProcess._bootstrap at 0x7f35c5db16c0>
           â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7f35c5db0d30>
    â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7f35c5bf21d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
    â”‚    â”” <function subprocess_started at 0x7f35c52113f0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7f35c5bf2230>>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7f35c5210700>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7f35c5bf2230>
           â”‚       â”” <function run at 0x7f35c5be96c0>
           â”” <module 'asyncio' from '/usr/local/lib/python3.10/asyncio/__init__.py'>
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7f35c42662d0>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x7f35c561ed40>
           â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
    self.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7f35c561ecb0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7f35c5620820>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1899, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7f35c5b841f0>
    â”” <Handle <TaskStepMethWrapper object at 0x7f35c3d74af0>()>
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x7f35c3d74af0>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x7f35c3d74af0>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x7f35c3d74af0>()>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35c42b5630>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c32e6dd0>>
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c32e6dd0>>
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7f35c5242350>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35c42b5630>
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c32e6dd0>>
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c32e6dd0>>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c32e6dd0>>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c32e6dd0>>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35c45d78b0>
          â”” <fastapi.applications.FastAPI object at 0x7f35c5242350>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f35c3cb7b50>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c32e6dd0>>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f35c45d7910>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35c45d78b0>
> File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 72, in __call__
    response = await self.dispatch_func(request, call_next)
                     â”‚    â”‚             â”‚        â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f35c3d589d0>
                     â”‚    â”‚             â”” <starlette.requests.Request object at 0x7f35c32e4ee0>
                     â”‚    â”” <function log_middle at 0x7f35c4281bd0>
                     â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f35c45d7910>

  File "/app/NBDapp/api_views.py", line 47, in log_middle
    response = await call_next(request)
                     â”‚         â”” <starlette.requests.Request object at 0x7f35c32e4ee0>
                     â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f35c3d589d0>

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
          â”” AttributeError("'NoneType' object has no attribute 'ready_suggestions'")
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
          â”‚    â”‚   â”‚      â”‚       â”‚        â”‚           â”” <function MemoryObjectSendStream.send at 0x7f35c4a92050>
          â”‚    â”‚   â”‚      â”‚       â”‚        â”” MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          â”‚    â”‚   â”‚      â”‚       â”” <property object at 0x7f35c4902c50>
          â”‚    â”‚   â”‚      â”” <starlette.requests.Request object at 0x7f35c32e4ee0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f35c45d5780>
          â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f35c45d7910>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73b50>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f35c3d739a0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35c45d5fc0>
          â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f35c45d5780>
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73b50>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f35c3d739a0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <fastapi.routing.APIRouter object at 0x7f35c5241c60>
          â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35c45d5fc0>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73b50>
          â”‚     â”‚      â”‚      â”” <function set_body.<locals>.receive at 0x7f35c3d739a0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚     â”” <function Route.handle at 0x7f35c4756680>
          â”” <fastapi.routing.APIRoute object at 0x7f35c45d2320>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73b50>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f35c3d739a0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <function request_response.<locals>.app at 0x7f35c42a8550>
          â”” <fastapi.routing.APIRoute object at 0x7f35c45d2320>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
                     â”‚    â”” <starlette.requests.Request object at 0x7f35c2a2d1b0>
                     â”” <function get_request_handler.<locals>.app at 0x7f35c42a84c0>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7f35c4755480>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'tg_id': 661770664}
                 â”‚         â”” <function next_sug at 0x7f35c42a8430>
                 â”” <fastapi.dependencies.models.Dependant object at 0x7f35c45d3a90>

  File "/app/NBDapp/api_views.py", line 475, in next_sug
    if r_sug.ready_suggestions.index(r_sug.sended_suggestion)+1 < len(r_sug.ready_suggestions):
       â”‚                             â”‚                                â”” None
       â”‚                             â”” None
       â”” None

AttributeError: 'NoneType' object has no attribute 'ready_suggestions'
14:26:53 | ERROR | Error:
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 94, in receive
    return self.receive_nowait()
           â”‚    â”” <function MemoryObjectReceiveStream.receive_nowait at 0x7f459f3b9870>
           â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 89, in receive_nowait
    raise WouldBlock
          â”” <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 43, in call_next
    message = await recv_stream.receive()
                    â”‚           â”” <function MemoryObjectReceiveStream.receive at 0x7f459f3b9900>
                    â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 114, in receive
    raise EndOfStream
          â”” <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 3
               â”‚     â”” 17
               â”” <function _main at 0x7f45a050a440>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 3
           â”‚    â”” <function BaseProcess._bootstrap at 0x7f45a06d96c0>
           â”” <SpawnProcess name='SpawnProcess-5' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7f45a06d8d30>
    â”” <SpawnProcess name='SpawnProcess-5' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7f45a051a1d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-5' parent=1 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-5' parent=1 started>
    â”‚    â”” <function subprocess_started at 0x7f459fb393f0>
    â”” <SpawnProcess name='SpawnProcess-5' parent=1 started>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7f45a051a230>>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7f459fb38700>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7f45a051a230>
           â”‚       â”” <function run at 0x7f45a05116c0>
           â”” <module 'asyncio' from '/usr/local/lib/python3.10/asyncio/__init__.py'>
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7f459eb5e2d0>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x7f459ff46d40>
           â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
    self.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7f459ff46cb0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7f459ff48820>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1899, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7f45a04ac1f0>
    â”” <Handle <TaskStepMethWrapper object at 0x7f459d303cd0>()>
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x7f459d303cd0>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x7f459d303cd0>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x7f459d303cd0>()>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f459ebdd630>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f459c9d9c30>>
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f459c9d9c30>>
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7f459fb6a350>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f459ebdd630>
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f459c9d9c30>>
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f459c9d9c30>>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f459c9d9c30>>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f459c9d9c30>>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f459eeff8b0>
          â”” <fastapi.applications.FastAPI object at 0x7f459fb6a350>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f459e678820>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f459c9d9c30>>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f459eeff910>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f459eeff8b0>
> File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 72, in __call__
    response = await self.dispatch_func(request, call_next)
                     â”‚    â”‚             â”‚        â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f459e5dfb50>
                     â”‚    â”‚             â”” <starlette.requests.Request object at 0x7f459d488400>
                     â”‚    â”” <function log_middle at 0x7f459eb99bd0>
                     â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f459eeff910>

  File "/app/NBDapp/api_views.py", line 47, in log_middle
    response = await call_next(request)
                     â”‚         â”” <starlette.requests.Request object at 0x7f459d488400>
                     â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f459e5dfb50>

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
          â”” DoesNotExist('Object does not exist')
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
          â”‚    â”‚   â”‚      â”‚       â”‚        â”‚           â”” <function MemoryObjectSendStream.send at 0x7f459f3ba050>
          â”‚    â”‚   â”‚      â”‚       â”‚        â”” MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          â”‚    â”‚   â”‚      â”‚       â”” <property object at 0x7f459f22ad40>
          â”‚    â”‚   â”‚      â”” <starlette.requests.Request object at 0x7f459d488400>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f459eefd780>
          â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f459eeff910>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f459e68f910>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f459e68f6d0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f459eefdfc0>
          â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f459eefd780>
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f459e68f910>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f459e68f6d0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <fastapi.routing.APIRouter object at 0x7f459fb69c60>
          â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f459eefdfc0>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f459e68f910>
          â”‚     â”‚      â”‚      â”” <function set_body.<locals>.receive at 0x7f459e68f6d0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚     â”” <function Route.handle at 0x7f459f07e680>
          â”” <fastapi.routing.APIRoute object at 0x7f459eefa7d0>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f459e68f910>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f459e68f6d0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <function request_response.<locals>.app at 0x7f459ebccdc0>
          â”” <fastapi.routing.APIRoute object at 0x7f459eefa7d0>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
                     â”‚    â”” <starlette.requests.Request object at 0x7f459d302650>
                     â”” <function get_request_handler.<locals>.app at 0x7f459ebccd30>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7f459f07d480>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'name': '3eaff4a18004054c7fb2c8e80a388591e233c5234b442814'}
                 â”‚         â”” <function get_photo_id at 0x7f459ebccca0>
                 â”” <fastapi.dependencies.models.Dependant object at 0x7f459eefa770>

  File "/app/NBDapp/api_views.py", line 567, in get_photo_id
    images = await Id_Images.get(id_post=name)
                   â”‚         â”‚           â”” '3eaff4a18004054c7fb2c8e80a388591e233c5234b442814'
                   â”‚         â”” <classmethod(<function Model.get at 0x7f459eec9750>)>
                   â”” <class 'DataBase.Models.Id_Images'>

  File "/usr/local/lib/python3.10/site-packages/tortoise/queryset.py", line 1018, in _execute
    raise DoesNotExist("Object does not exist")
          â”” <class 'tortoise.exceptions.DoesNotExist'>

tortoise.exceptions.DoesNotExist: Object does not exist
14:29:33 | ERROR | Error:
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 94, in receive
    return self.receive_nowait()
           â”‚    â”” <function MemoryObjectReceiveStream.receive_nowait at 0x7f35c4a91870>
           â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 89, in receive_nowait
    raise WouldBlock
          â”” <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 43, in call_next
    message = await recv_stream.receive()
                    â”‚           â”” <function MemoryObjectReceiveStream.receive at 0x7f35c4a91900>
                    â”” MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 114, in receive
    raise EndOfStream
          â”” <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 3
               â”‚     â”” 15
               â”” <function _main at 0x7f35c5be2440>
  File "/usr/local/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 3
           â”‚    â”” <function BaseProcess._bootstrap at 0x7f35c5db16c0>
           â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7f35c5db0d30>
    â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7f35c5bf21d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
    â”‚    â”” <function subprocess_started at 0x7f35c52113f0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=1 started>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7f35c5bf2230>>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=5, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8888)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7f35c5210700>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7f35c5bf2230>
           â”‚       â”” <function run at 0x7f35c5be96c0>
           â”” <module 'asyncio' from '/usr/local/lib/python3.10/asyncio/__init__.py'>
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x7f35c42662d0>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x7f35c561ed40>
           â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
    self.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7f35c561ecb0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7f35c5620820>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1899, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7f35c5b841f0>
    â”” <Handle <TaskStepMethWrapper object at 0x7f35c2a46c20>()>
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x7f35c2a46c20>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x7f35c2a46c20>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x7f35c2a46c20>()>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35c42b5630>
  File "/usr/local/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c3393a00>>
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c3393a00>>
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7f35c5242350>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35c42b5630>
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c3393a00>>
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c3393a00>>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c3393a00>>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c3393a00>>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35c45d78b0>
          â”” <fastapi.applications.FastAPI object at 0x7f35c5242350>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f35c3d589d0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f35c3393a00>>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f35c45d7910>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35c45d78b0>
> File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 72, in __call__
    response = await self.dispatch_func(request, call_next)
                     â”‚    â”‚             â”‚        â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f35c2a7c5e0>
                     â”‚    â”‚             â”” <starlette.requests.Request object at 0x7f35c29cf7c0>
                     â”‚    â”” <function log_middle at 0x7f35c4281bd0>
                     â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f35c45d7910>

  File "/app/NBDapp/api_views.py", line 47, in log_middle
    response = await call_next(request)
                     â”‚         â”” <starlette.requests.Request object at 0x7f35c29cf7c0>
                     â”” <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f35c2a7c5e0>

  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
          â”” AttributeError("'NoneType' object has no attribute 'ready_suggestions'")
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
          â”‚    â”‚   â”‚      â”‚       â”‚        â”‚           â”” <function MemoryObjectSendStream.send at 0x7f35c4a92050>
          â”‚    â”‚   â”‚      â”‚       â”‚        â”” MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          â”‚    â”‚   â”‚      â”‚       â”” <property object at 0x7f35c4902c50>
          â”‚    â”‚   â”‚      â”” <starlette.requests.Request object at 0x7f35c29cf7c0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f35c45d5780>
          â”” <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f35c45d7910>
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73880>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f35c2a7c700>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35c45d5fc0>
          â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f35c45d5780>
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73880>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f35c2a7c700>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <fastapi.routing.APIRouter object at 0x7f35c5241c60>
          â”” <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35c45d5fc0>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73880>
          â”‚     â”‚      â”‚      â”” <function set_body.<locals>.receive at 0x7f35c2a7c700>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚     â”” <function Route.handle at 0x7f35c4756680>
          â”” <fastapi.routing.APIRoute object at 0x7f35c45d2320>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35c3d73880>
          â”‚    â”‚   â”‚      â”” <function set_body.<locals>.receive at 0x7f35c2a7c700>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('192.168.112.2', 8888),...
          â”‚    â”” <function request_response.<locals>.app at 0x7f35c42a8550>
          â”” <fastapi.routing.APIRoute object at 0x7f35c45d2320>
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
                     â”‚    â”” <starlette.requests.Request object at 0x7f35c2a47f70>
                     â”” <function get_request_handler.<locals>.app at 0x7f35c42a84c0>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7f35c4755480>
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'tg_id': 913324481}
                 â”‚         â”” <function next_sug at 0x7f35c42a8430>
                 â”” <fastapi.dependencies.models.Dependant object at 0x7f35c45d3a90>

  File "/app/NBDapp/api_views.py", line 475, in next_sug
    if r_sug.ready_suggestions.index(r_sug.sended_suggestion)+1 < len(r_sug.ready_suggestions):
       â”‚                             â”‚                                â”” None
       â”‚                             â”” None
       â”” None

AttributeError: 'NoneType' object has no attribute 'ready_suggestions'
